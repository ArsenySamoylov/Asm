Это папка с учебными проектами, посвященными изучению SIMD (Single Instruction Myltiple Data) инструкций.
В каждой из каталогов можно найти более детальное описание конктретной работы. Здесь же далее будут более подробно описана вся работа целиком.

# Введение:
SIMD инструкции позволяют выполнять арифметические, логические и другие более специфичные операции над несколькими элементами одновременно. 		 
Эти инструкции можно рассматривать как работу с векторами.
Например: умножение 8-ми целых чисел на константу, побитовый сдвиг или почленное вычитание с другими 8-мью целыми числами. 
	
# Актуальность:
Есть множество задач, в которых над большим объемом данных производятся схожие операции с каждым элементом. Ярким пример служит работа с графикой, где происходят мночогчисленные повторяющиейся вычисления с каждым пикселем для получения результата, готового к отображения на экран.

# Цели:
1. Опредилить эффективность SIMD инструкций
2. Научится работать с SIMD инструкциями на примерах задач отображения множества Мандельброта и Альфаблендига.
	
# Задачи:
1. Написать несколь версий программы, отображающей множество мандельброта. Версию написанную без использовнаия SIMD инструкций, версию с небольшими оптимизациями первой версии, и третью версию с использованием SIMD инструкций
2. Сравнить затраченой время на работу каждой из версий программы, используя разные флаги оптимизации
3. Аналгичную работу произвести для задачи АльфаБлендинга
	
# Гипотеза:
При повторяющей обработке большого колличесва данных зачастую лучшего время исполнения алгоритма можно добится только с помощью SIMD инструкций.
	
# Ход работы:
Далее будут издолжены краткие итоги работы. Более подробное описание каждой из двух задач будкт лежать в соотвествующей папке.
В каждой из папок находится:
1. детальное описание
2. функции работающие с массивами данных с SIMD инструкциями и без
3. исходники небольшой простой программы делайющей замер времени, потраченного на вызов нескольких раз (задается константой *NUMBER_OF_ITERATIONS_FOR_MEASURMENT* при компиляции) соответсвующих функций и выводящей результат измерений в консоль. Так же программа с помощью графической библиотеки SFML показывает результат работы функций в отдельном окне. Для просмотра результатов измерений бег графического сопроврождения нужно скомпильровать с опцией -D NO_SFML или прописать

`make no_sfml`

**Важно** в проекте для измерения потраченного на измерение времени используется timeval структура, определенная в <sys/time.h>, специфичная для Linux системы. Поэтому код, скорее всего не скомпилируются для другой платформы.

### Как работать с SYMD инстрункциями?
Первый подход это писать напрямую на ассемблере, например с помощью ассемлерной вставки asm{} в Си.
Второй способ - использовать так называемые intrinsic функции. Этот подход более предпочтительный. 

Во первых, что такое intinsic функция? Это есть поистине встроенные функции, для которых в компиляторе на самом деле реализована особая обработка. У разных компиляторов набор intrinsic-ов разный. При вызове intrinsic-функции компилятор генерирует особый код, характерный именно для данной функции: не генерируется вызова какой-либо функции, а будет несколько инструкций, выполняющих нужную задачу.
Именно такие интринсики, определенный в заголовочном файле #include *<immintrin.h>* и будут помогать нам генерирровать нужный нам код с использование SIMD инструкциий. Главное преимущество такого кода перед ассемблерной вставкой состоит в том, что компилятор может оптимизировать код использующий такие функции, в то время как при работе с ассемблерной вставкой компилятор отключает все оптимизации.

Теперь можно перейти к конкретным результатам.

## Мандельброт:
Таблица показывающее среднее значение времени, затраченного при выполнении *NUMBER_OF_ITERATIONS_FOR_MEASURMENT = 500* вызовах соответсвующих функциий

| Функция				| Среднее время затраченное на 500 вызовов, в секундах | Отношение к времени для предыдущей итерации
|---------------------------------------|-----------------------------------------------------------------------------------------------------
| CalculateMandalbrot_not_optimized	| 19.39						       |
| CalculateMandalbrot_optimized_no_avx  |						       |
| CalculateMandalbrot_optimized_avx     | 3.09                                                 | 

## АльфаБлендинг:
	
# Заключение:
Использование SIMD инструкций оказалось незаменимым инструментом для достижения минимального времени обработкми изображений. 
Но есть и минусы:
1. код становится аппартно зависимым, так как виды SIMD инструкций зависят от конкретной модели процессора. Поэтому у такого кода есть проблемы переносимостью.
2. Читабельность кода падает, объем растет, и время разработки увеличивается.

Подводя итог, можно сказать, что SIMD иструкции помогают добится значительного уменьшия время обработки больших массивых данных. Но большая сила приходи  с большой ответсвенностью, например сложночитаемый объемный код. Поэтому, мое личное мнение, что стоит использовать SIMD инструкции в случае, когда важно время работы алгоритма, и оптимизация другими способами не могает достичь желаемого результата.
